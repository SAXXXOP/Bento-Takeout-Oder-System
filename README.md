# 弁当テイクアウト予約管理システム（Googleフォーム × スプレッドシート × LINE）

Googleフォームの予約を **スプレッドシート台帳に集約**し、**LINE Bot で通知・予約変更受付**まで行う、店舗向けの予約運用ツールです。  
スプレッドシート側には、**予約札（印刷用）** と **当日まとめ（製造集計）** を自動生成する機能、**★要確認一覧**、**ステータス運用ガード**、**日次バックアップ** を備えています。

---

## できること（主な機能）

### 予約・台帳
- Googleフォーム送信 → 「注文一覧」へ記録（顧客名簿も更新）
- 予約番号運用（No）
- ステータス運用（有効/無効/★要確認）

### 店舗オペレーション
- **予約札を作成（指定日）**：印刷用の札を自動配置
- **当日まとめを更新（指定日）**：メニュー別の製造集計＋注意メモを作成
- **★要確認一覧**：要確認ステータスだけを別シートに抽出して一覧化
- **顧客備考編集（サイドバー）**：顧客の注意事項（調理/事務）を検索・編集

### 管理/安全/保守
- ステータス移行（B案）と運用ガード（入力制限・条件付き書式）
- 理由未記入チェック / ステータス監査
- **Webhook の簡易認証（WEBHOOK_KEY）＋重複排除**
- **日次バックアップ（デフォルト：日次60日＋月次12ヶ月）＋手動スナップショット**

---

## 全体フロー

```mermaid
flowchart TD
  A[予約者：LINE / フォーム入力] --> B[Googleフォーム送信]
  B --> C[Apps Script onFormSubmit]
  C --> D[注文一覧へ記録]
  C --> E[顧客名簿を更新]
  C --> F[LINEへ通知/返信]
  D --> G[店舗：★予約管理メニューで運用]
  G --> H[予約札作成]
  G --> I[当日まとめ作成]
  G --> J[★要確認一覧]
  G --> K[ステータス運用/理由管理]
  G --> L[バックアップ]
