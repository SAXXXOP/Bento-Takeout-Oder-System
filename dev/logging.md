# ログ設計（出し方/レベル/PII）

## 目的
簡単に直らない問題を「ログで原因確定」できる状態にする。

---

## 基本方針
- 入口と出口にログ（開始/終了）
- 重要分岐（要確認判定、保存成功、外部送信）にログ
- 例外は必ず捕捉してログに残す（握りつぶさない）

---

## ログレベル
- INFO：通常運用で必要な情報（成功/失敗、件数）
- DEBUG：原因調査のための詳細（短期間のみ）

推奨プロパティ：
- `LOG_LEVEL`
- `LOG_MAX`

---

## 個人情報（PII）
- 電話番号やLINE_IDを **そのまま出さない**
- マスク例：
  - TEL：`***-****-1234`
  - LINE_ID：先頭数文字だけ

---

## トラブル対応の型
1. 症状の再現条件をメモ
2. DEBUG を一時的に上げる
3. 入口で受け取った値を最小限ログ
4. 原因確定したら、不要ログは消す/INFOへ戻す
