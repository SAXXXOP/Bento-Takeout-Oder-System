# 遅い・タイムアウトする

## 症状
- 実行に時間がかかる
- 途中でタイムアウトする
- フォーム送信が重い

---

## 原因の当たり
- シート全体走査が多い（毎回全行を読む）
- 予約札/当日まとめの生成が重い（画像/書式/大量行）
- ログが肥大（書き込みが重い）

---

## まずやる対処
1. ログ最大行数（`LOG_MAX_ROWS`）を適切にする
2. まとめ処理は「必要な範囲だけ」読む設計にする
3. 一括書き込み（setValues）に寄せる（セル単位更新を減らす）

---

## 改修するときの進め方
- まずログでどこが遅いか計測（開始/終了ログ）
- 原因確定してから改修（闇雲に触らない）

→ `dev/logging.md` / `dev/testing.md`
