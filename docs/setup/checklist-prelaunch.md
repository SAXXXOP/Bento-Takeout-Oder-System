# 運用開始前チェックリスト

## 目的
初日トラブルを防ぐため、導入時に「最低限ここまで」を揃えます。

---

## A. 事前準備（テンプレ → 店舗）
- [ ] 店舗用スプレッドシートをコピーした
- [ ] フォームがこのスプレッドシートに紐づいている
- [ ] 必須タブが揃っている（名前一致）
  - 注文一覧 / メニューマスタ / 当日まとめ / 予約札 / ★要確認一覧 / 休業日設定 / ログ

---

## B. 権限（承認）
- [ ] Apps Script 初回承認を完了した
- [ ] Drive（バックアップ）や UrlFetch（LINE）など、使う機能分の承認が通っている

---

## C. Script Properties（必要な分だけ）
- [ ] 必須（現行の validate 基準）
  - [ ] `LINE_TOKEN`
  - [ ] `WEBHOOK_KEY`
- [ ] 推奨（ログ）
  - [ ] `LOG_LEVEL`
  - [ ] `LOG_MAX_ROWS`
- [ ] 任意（使う場合のみ）
  - [ ] バックアップ：`BACKUP_FOLDER_ID`
  - [ ] 日次準備（自動化）：`DAILY_PREP_*`
  - [ ] 締切後送信通知：`LATE_SUBMISSION_NOTIFY_ENABLED`, `LATE_SUBMISSION_NOTIFY_TO`
  - [ ] 管理者判定：`ADMIN_EMAILS`（必要なら）

---

## D. トリガー
- [ ] 必須：フォーム送信 → `onFormSubmit`
  - メニュー：`★予約管理 → 導入時のみ（管理者） → 【トリガー（フォーム送信）】設定`
- [ ] 任意：日次準備 → `dailyPrepTrigger`
  - メニュー：`★予約管理 → 不定期メンテ（管理者） → 【日次準備（自動化）】トリガー再作成（復旧）`
- [ ] 任意：バックアップ → `backupSpreadsheetDaily`
  - メニュー：`★予約管理 → 不定期メンテ（管理者） → 【バックアップ】日次バックアップ設定（トリガー作成）`
- [ ] 任意：運用通知（1時間まとめ）→ `opsNotifyHourlyTrigger`
  - メニュー：`★予約管理 → 不定期メンテ（管理者） → 【運用通知（1時間まとめ）】トリガー作成（1時間ごと）`

---

## E. 動作確認（最低限）
- [ ] フォームからテスト送信 → 注文一覧に記録される
- [ ] 日次準備（手動）で当日まとめ/予約札が作れる
- [ ] ログに記録が残る

---

## F. 運用ルール（最低限）
- [ ] ステータス（有効/無効/★要確認）の判断基準を決めた
- [ ] 締切（前日20時）後の扱い（無効化/通知）を共有した
- [ ] 電話番号・予約No の列を「プレーンテキスト」で運用する（先頭0落ち/日付化防止）

---

完了したら：[`operations/daily-check.md`](../operations/daily-check.md) の流れで初日運用へ。
