# アーキテクチャ概要

## 目的
改修・運用改善の際に「どこを触るべきか」を素早く判断できるようにする。

---

## 主要コンポーネント（概念）
- Form解析：フォーム回答 → 正規化データ（氏名/電話/受取日時/注文明細）
- 保存：`注文一覧` へ追記（予約No発行、ステータス付与、理由など）
- 顧客：別シートは持たず、必要な情報は `注文一覧` に集約（電話/備考など）
- 一覧：`要確認一覧` の更新（異常の集約）
- 日次準備：`予約札` / `当日まとめ` の生成
- 通知：LINE（任意）
- 監査/ガード：ステータス運用の安全策（ある場合）

---

## データの一次ソース
- 最重要：`注文一覧`（元帳）
- ここさえ壊れなければ、予約札/当日まとめは再生成できる

---

## 変更時の原則
- 仕様変更は必ずテスト送信で検証
- 簡単に直らない時はログ出しで原因確定 → 修正
