# シート/列仕様（CONFIG.SHEET / CONFIG.COLUMN）

## 目的
テンプレ前提（シート名/列位置）を明文化し、運用・改修で壊さないようにします。

---

## 必須タブ（CONFIG.SHEET）
- 注文一覧
- メニューマスタ
- 当日まとめ
- 予約札
- ★要確認一覧
- 休業日設定
- ログ

> `フォームの回答 1` は Googleフォーム側が作るタブで、運用上は必須ではありません。

---

## 注文一覧（列位置固定：A〜P）
このプロジェクトは `CONFIG.COLUMN` で列位置を固定しています。  
**列の挿入/削除は事故の元** なので、どうしても変更する場合はコードと同時に更新し、テストを必ず行ってください。

| 列 | キー | 意味 |
|---|---|---|
| A | TIMESTAMP | 受付時刻 |
| B | ORDER_NO | 予約No |
| C | TEL | 電話番号 |
| D | NAME | 氏名（任意入力） |
| E | PICKUP_DATE | 受け取り日/時刻（表示用） |
| F | NOTE | 抜き物などの要望（フォーム自由記入） |
| G | DETAILS | 注文明細（内部キー） |
| H | TOTAL_COUNT | 合計点数 |
| I | TOTAL_PRICE | 合計金額 |
| J | LINE_ID | LINE_ID（任意） |
| K | DAILY_SUMMARY | 当日まとめ用の集計情報（内部） |
| L | REGULAR_FLG | 常連フラグ（内部） |
| M | STATUS | ステータス（空/無効/★要確認） |
| N | REASON | ★理由（要確認理由/無効理由） |
| O | SOURCE_NO | 変更元予約No |
| P | PICKUP_DATE_RAW | 受け取り日（Date型・内部） |

---

## メニューマスタ（列）
列位置は `CONFIG.MENU_COLUMN` で定義しています。

- ID（A）：任意の一意ID
- GROUP（B）：カテゴリ
- MENU_NAME（C）：フォームの質問文（または表示名）
- SUB_MENU（D）：グリッド等の子項目
- PRICE（E）：価格
- SHORT_NAME（F）：内部キー（集計に使う）
- AUTO_REPLY_NAME（G）：自動返信用の表示名（任意）

---

## 重要：表示形式（先頭0落ち/日付化防止）
- 注文一覧
  - 列B（予約No）
  - 列C（電話番号）
は **「プレーンテキスト」推奨**（数値扱いで先頭0が落ちたり、日付化する事故を防ぐ）。

---

## 変更時の注意
- フォーム質問タイトル変更（`CONFIG.FORM`）は壊れやすい → テスト送信で検証
- 列/タブ名変更は壊れやすい → `Config.gs` と同時に変更
